---
const steps = [
  {
    num: '01',
    title: 'Discover',
    description: 'We learn your business. What works, what doesn\'t, where the opportunities are. No jargon, no upselling — just listening.',
    detail: 'Stakeholder interviews · Process mapping · Pain point analysis · Competitive audit',
    icon: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" /></svg>`,
  },
  {
    num: '02',
    title: 'Design',
    description: 'Architecture, wireframes, and data models before a single line of code. We plan the system and align on exactly what you\'re getting.',
    detail: 'Technical spec · UX wireframes · Data architecture · Compliance review',
    icon: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" /></svg>`,
  },
  {
    num: '03',
    title: 'Build',
    description: 'AI-accelerated development with human oversight. We ship iteratively — you see progress weekly, not quarterly.',
    detail: 'Sprint cycles · CI/CD pipeline · Staging deploys · Weekly demos',
    icon: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M17.25 6.75L22.5 12l-5.25 5.25m-10.5 0L1.5 12l5.25-5.25m7.5-3l-4.5 16.5" /></svg>`,
  },
  {
    num: '04',
    title: 'Deploy & Evolve',
    description: 'Launch is just the start. We monitor, optimise, and evolve your system as your business grows. Long-term partner, not a hit-and-run.',
    detail: 'Production launch · Monitoring · Team training · Ongoing support',
    icon: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M15.59 14.37a6 6 0 01-5.84 7.38v-4.8m5.84-2.58a14.98 14.98 0 006.16-12.12A14.98 14.98 0 009.631 8.41m5.96 5.96a14.926 14.926 0 01-5.841 2.58m-.119-8.54a6 6 0 00-7.381 5.84h4.8m2.581-5.84a14.927 14.927 0 00-2.58 5.84m2.699 2.7c-.103.021-.207.041-.311.06a15.09 15.09 0 01-2.448-2.448 14.9 14.9 0 01.06-.312m-2.24 2.39a4.493 4.493 0 00-1.757 4.306 4.493 4.493 0 004.306-1.758M16.5 9a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0z" /></svg>`,
  },
];
---

<section class="section-padding relative">
  <div class="container-narrow">
    <!-- Header -->
    <div class="text-center max-w-2xl mx-auto mb-20" data-animate>
      <p class="text-kiwi-400 font-mono text-sm tracking-wider uppercase mb-4">How We Work</p>
      <h2 class="font-display font-bold text-4xl md:text-5xl text-white leading-tight mb-6">
        Systematic.<br />
        <span class="gradient-text">Not chaotic.</span>
      </h2>
      <p class="text-gray-400 text-lg leading-relaxed">
        Every project follows our proven process. Clear stages, constant communication, no surprises.
      </p>
    </div>

    <!-- Timeline -->
    <div class="relative">
      {/* Vertical line */}
      <div class="absolute left-6 md:left-1/2 md:-translate-x-px top-0 bottom-0 w-px bg-gradient-to-b from-kiwi-500/30 via-kiwi-500/10 to-transparent"></div>

      <div class="space-y-12 md:space-y-16">
        {steps.map((step, i) => (
          <div
            class={`relative flex flex-col md:flex-row gap-6 md:gap-12 ${i % 2 !== 0 ? 'md:flex-row-reverse' : ''}`}
            data-animate
            style={`transition-delay: ${i * 150}ms;`}
          >
            {/* Timeline dot */}
            <div class="absolute left-6 md:left-1/2 -translate-x-1/2 w-3 h-3 rounded-full bg-kiwi-500 shadow-lg shadow-kiwi-500/50 ring-4 ring-dark-900 z-10 mt-6 md:mt-8"></div>

            {/* Content */}
            <div class={`flex-1 pl-16 md:pl-0 ${i % 2 === 0 ? 'md:pr-16 md:text-right' : 'md:pl-16'}`}>
              <div class={`glass rounded-2xl p-7 spotlight border-glow hover-lift inline-block w-full max-w-md ${i % 2 === 0 ? 'md:ml-auto' : ''}`}>
                <div class={`flex items-center gap-3 mb-4 ${i % 2 === 0 ? 'md:flex-row-reverse' : ''}`}>
                  <div class="w-10 h-10 rounded-xl bg-kiwi-500/10 flex items-center justify-center text-kiwi-400 shrink-0 ring-1 ring-kiwi-500/20">
                    <Fragment set:html={step.icon} />
                  </div>
                  <div>
                    <span class="font-mono text-kiwi-400/60 text-xs">{step.num}</span>
                    <h3 class="font-display font-bold text-xl text-white">{step.title}</h3>
                  </div>
                </div>
                <p class={`text-gray-400 text-sm leading-relaxed mb-3 ${i % 2 === 0 ? 'md:text-right' : ''}`}>{step.description}</p>
                <p class={`text-[11px] text-gray-600 font-mono ${i % 2 === 0 ? 'md:text-right' : ''}`}>{step.detail}</p>
              </div>
            </div>

            {/* Spacer for alternating */}
            <div class="flex-1 hidden md:block"></div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>
