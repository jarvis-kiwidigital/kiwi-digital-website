---
const steps = [
  {
    num: '01',
    title: 'Discover',
    description: 'We learn how your business works. What\'s slowing you down? Where are the bottlenecks? What do you actually need? We listen first, then propose solutions.',
    detail: 'Stakeholder interviews · Process mapping · Pain point analysis · Requirements gathering',
    icon: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" /></svg>`,
  },
  {
    num: '02',
    title: 'Design',
    description: 'We map out the solution together. Wireframes, workflows, integrations — so you can see exactly what you\'re getting before we start building. No surprises.',
    detail: 'Solution design · Workflow mapping · User experience planning · Fixed-price quote',
    icon: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9.53 16.122a3 3 0 00-5.78 1.128 2.25 2.25 0 01-2.4 2.245 4.5 4.5 0 008.4-2.245c0-.399-.078-.78-.22-1.128zm0 0a15.998 15.998 0 003.388-1.62m-5.043-.025a15.994 15.994 0 011.622-3.395m3.42 3.42a15.995 15.995 0 004.764-4.648l3.876-5.814a1.151 1.151 0 00-1.597-1.597L14.146 6.32a15.996 15.996 0 00-4.649 4.763m3.42 3.42a6.776 6.776 0 00-3.42-3.42" /></svg>`,
  },
  {
    num: '03',
    title: 'Build',
    description: 'We build and test with your team. You\'ll see working software from week one. We ship iteratively, get your feedback, and refine as we go.',
    detail: 'Agile development · Weekly progress updates · User testing · Continuous feedback',
    icon: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z" /></svg>`,
  },
  {
    num: '04',
    title: 'Launch & Support',
    description: 'We launch, train your team, and support you. Documentation, training sessions, and ongoing support so you feel confident using the system. We\'re here for the long run.',
    detail: 'Production launch · Team training · Documentation · Ongoing support & updates',
    icon: `<svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="1.5"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12.75L11.25 15 15 9.75m-3-7.036A11.959 11.959 0 013.598 6 11.99 11.99 0 003 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285z" /></svg>`,
  },
];
---

<section class="section-padding relative">
  <div class="container-narrow">
    <!-- Header -->
    <div class="text-center max-w-2xl mx-auto mb-20" data-animate>
      <p class="text-kiwi-400 font-mono text-sm tracking-wider uppercase mb-4">How We Work</p>
      <h2 class="font-display font-bold text-4xl md:text-5xl text-white leading-tight mb-6">
        Clear process.<br />
        <span class="gradient-text">No surprises.</span>
      </h2>
      <p class="text-gray-400 text-lg leading-relaxed">
        Every project follows the same proven steps. You'll always know what's happening, what's next, and what it costs.
      </p>
    </div>

    <!-- Timeline -->
    <div class="relative">
      {/* Vertical line */}
      <div class="absolute left-6 md:left-1/2 md:-translate-x-px top-0 bottom-0 w-px bg-gradient-to-b from-kiwi-500/30 via-kiwi-500/10 to-transparent"></div>

      <div class="space-y-12 md:space-y-16">
        {steps.map((step, i) => (
          <div
            class={`relative flex flex-col md:flex-row gap-6 md:gap-12 ${i % 2 !== 0 ? 'md:flex-row-reverse' : ''}`}
            data-animate
            style={`transition-delay: ${i * 150}ms;`}
          >
            {/* Timeline dot */}
            <div class="absolute left-6 md:left-1/2 -translate-x-1/2 w-3 h-3 rounded-full bg-kiwi-500 shadow-lg shadow-kiwi-500/50 ring-4 ring-dark-900 z-10 mt-6 md:mt-8"></div>

            {/* Content */}
            <div class={`flex-1 pl-16 md:pl-0 ${i % 2 === 0 ? 'md:pr-16 md:text-right' : 'md:pl-16'}`}>
              <div class={`glass rounded-2xl p-7 spotlight border-glow hover-lift inline-block w-full max-w-md ${i % 2 === 0 ? 'md:ml-auto' : ''}`}>
                <div class={`flex items-center gap-3 mb-4 ${i % 2 === 0 ? 'md:flex-row-reverse' : ''}`}>
                  <div class="w-10 h-10 rounded-xl bg-kiwi-500/10 flex items-center justify-center text-kiwi-400 shrink-0 ring-1 ring-kiwi-500/20">
                    <Fragment set:html={step.icon} />
                  </div>
                  <div>
                    <span class="font-mono text-kiwi-400/60 text-xs">{step.num}</span>
                    <h3 class="font-display font-bold text-xl text-white">{step.title}</h3>
                  </div>
                </div>
                <p class={`text-gray-400 text-sm leading-relaxed mb-3 ${i % 2 === 0 ? 'md:text-right' : ''}`}>{step.description}</p>
                <p class={`text-[11px] text-gray-600 font-mono ${i % 2 === 0 ? 'md:text-right' : ''}`}>{step.detail}</p>
              </div>
            </div>

            {/* Spacer for alternating */}
            <div class="flex-1 hidden md:block"></div>
          </div>
        ))}
      </div>
    </div>
  </div>
</section>
